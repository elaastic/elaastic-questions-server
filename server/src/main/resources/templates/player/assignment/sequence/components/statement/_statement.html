<!--
  ~ Elaastic - formative assessment system
  ~ Copyright (C) 2019. University Toulouse 1 Capitole, University Toulouse 3 Paul Sabatier
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <https://www.gnu.org/licenses/>.
  -->

<div th:fragment="statement(statementInfoPanelModel)"
     th:remove="tag"
     xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
    <!--/*@thymesVar id="statementInfoPanelModel" type="org.elaastic.player.statement.StatementInfoPanelModel"*/-->

    <div class="ui accordion segment ob-start-sequence-4" id="statement-accordion" style="padding-bottom: 0;">
        <div class="ui ${isClosed ? '' : 'active'} title header"
             th:classappend="${statementInfoPanelModel.panelClosed ? '' : 'active'}">
            <i class="dropdown icon"></i> <span th:text="${statementInfoPanelModel.title}"></span>

            <th:block th:unless="${statementInfoPanelModel.hideQuestionType}">
                [<span
                    style="font-variant: all-small-caps; font-weight: normal; font-size: 0.8em; vertical-align: text-top"
                    th:text="#{|statement.questionType.${statementInfoPanelModel.questionType}|}">
                </span>]
            </th:block>
        </div>

        <div class="ui basic padded large text segment content"
             th:classappend="${statementInfoPanelModel.panelClosed ? '' : 'active'}">
            <div th:unless="${statementInfoPanelModel.hideStatement}">
                <div th:if="${statementInfoPanelModel.attachment != null}" th:remove="tag">
                    <div th:replace="subject/statement/_statement_attachment :: statementAttachment(${statementInfoPanelModel.attachment},650,380)"></div>
                </div>
                <p th:utext="${statementInfoPanelModel.content}">Question content</p>
            </div>
        </div>

    </div>

    <script>
        $(document).ready(function () {
            $('#statement-accordion').accordion()
        })
    </script>
</div>
